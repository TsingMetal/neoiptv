{
  "Name": "uploadExam",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser",
                "FGC_Anonymous"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "className",
          "TestData": "class1"
        },
        {
          "Name": "imgArr",
          "TestData": "1,2,3"
        },
        {
          "Name": "questionNumberOne",
          "TestData": "e1"
        },
        {
          "Name": "questionTeacherOne",
          "TestData": "t1"
        },
        {
          "Name": "questionNumberTwo",
          "TestData": "e2"
        },
        {
          "Name": "questionTeacherTwo",
          "TestData": "t2"
        },
        {
          "Name": "questionNumberThree",
          "TestData": "e3"
        },
        {
          "Name": "questionTeacherThree",
          "TestData": "t3"
        },
        {
          "Name": "questionNumberFour",
          "TestData": "e4"
        },
        {
          "Name": "questionTeacherFour",
          "TestData": "t4"
        },
        {
          "Name": "userName",
          "TestData": "qing"
        },
        {
          "Name": "examName",
          "TestData": "test1"
        },
        {
          "Name": "examType",
          "TestData": "1"
        },
        {
          "Name": "questionNumberFive"
        },
        {
          "Name": "questionTeacherFive"
        }
      ],
      "InvokeTriggerTestData": {
        "UserName": "Administrator"
      }
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
      "TableName": "exam",
      "UpdateType": "add",
      "ShowConfirm": false,
      "UpdateBindingValues": [
        {
          "BindingInfo": {
            "TableName": "exam",
            "ColumnName": "exam_name",
            "GUID": "eafaf5d6-6348-4cb1-b1fd-ce5bab4fb3cc"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=examName"
          }
        },
        {
          "BindingInfo": {
            "TableName": "exam",
            "ColumnName": "class_name",
            "GUID": "479b2db2-cb72-4c6d-bd3b-9a42869f3edb"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=className"
          }
        },
        {
          "BindingInfo": {
            "TableName": "exam",
            "ColumnName": "exam_type",
            "GUID": "8a9bcda6-be46-48fd-bedb-65af666ad530"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=examType"
          }
        },
        {
          "BindingInfo": {
            "TableName": "exam",
            "ColumnName": "exam_img_list",
            "GUID": "245d01f8-cb9d-4b6e-a6ad-0ef83564350e"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=imgArr"
          }
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "currentExamID",
      "TableValue": {
        "TableName": "exam",
        "OnlyGetValue": true,
        "TableValueType": 0,
        "BindingInfos": [
          {
            "BindingInfo": {
              "TableName": "exam",
              "ColumnName": "ID",
              "GUID": "01f5fe55-bd92-456f-ac18-cd613cc06fef"
            },
            "ColumnName": "ID"
          }
        ],
        "TopCount": "1",
        "OrderBySqlCondition": {
          "OrderByColumns": [
            {
              "ColumnBindingInfo": {
                "TableName": "exam",
                "ColumnName": "ID",
                "GUID": "876b3786-7329-4e4e-888b-c6b0371706b6"
              },
              "Order": 1
            }
          ]
        }
      },
      "ID": "0c7fcf1a6e0e43358c438fb90ace374c"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examType"
              }
            },
            "value": "5"
          },
          "CommandList": [
            {
              "$type": "ServerDesignerCommon.Command.ExecuteSqlCommand, ServerDesignerCommon",
              "ConnStrId": "1B77D134-B2AA-4867-AD46-053B8AD0D7E6",
              "Params": {
                "questionNumberOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberOne"
                  },
                  "Item2": 16
                },
                "questionTeacherOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherOne"
                  },
                  "Item2": 16
                },
                "questionNumberTwo": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberTwo"
                  },
                  "Item2": 16
                },
                "questionTeacherTwo": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherTwo"
                  },
                  "Item2": 16
                },
                "questionNumberThree": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberThree"
                  },
                  "Item2": 16
                },
                "questionTeacherThree": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherThree"
                  },
                  "Item2": 16
                },
                "questionNumberFour": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberFour"
                  },
                  "Item2": 16
                },
                "questionTeacherFour": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherFour"
                  },
                  "Item2": 16
                },
                "currentExamID": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=currentExamID"
                  },
                  "Item2": 16
                },
                "questionNumberFive": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberFive"
                  },
                  "Item2": 16
                },
                "questionTeacherFive": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherFive"
                  },
                  "Item2": 16
                }
              },
              "SqlStatement": "INSERT INTO exam_item (exam_ID, 题目编号, 阅卷老师)\r\nVALUES\r\n(@currentExamID, @questionNumberOne, @questionTeacherOne),\r\n(@currentExamID, @questionNumberTwo, @questionTeacherTwo),\r\n(@currentExamID, @questionNumberThree, @questionTeacherThree),\r\n(@currentExamID, @questionNumberFour, @questionTeacherFour),\r\n(@currentExamID, @questionNumberFive, @questionTeacherFive)",
              "ID": "62d4729addbd4b698f29f0b06b8932b2"
            }
          ],
          "Comments": "申论5题上传",
          "ID": "45a020af-ff70-434a-83f2-41bdf2d9d471"
        },
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examType"
              }
            },
            "value": "4"
          },
          "CommandList": [
            {
              "$type": "ServerDesignerCommon.Command.ExecuteSqlCommand, ServerDesignerCommon",
              "ConnStrId": "1B77D134-B2AA-4867-AD46-053B8AD0D7E6",
              "Params": {
                "questionNumberOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberOne"
                  },
                  "Item2": 16
                },
                "questionTeacherOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherOne"
                  },
                  "Item2": 16
                },
                "questionNumberTwo": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberTwo"
                  },
                  "Item2": 16
                },
                "questionTeacherTwo": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherTwo"
                  },
                  "Item2": 16
                },
                "questionNumberThree": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberThree"
                  },
                  "Item2": 16
                },
                "questionTeacherThree": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherThree"
                  },
                  "Item2": 16
                },
                "questionNumberFour": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberFour"
                  },
                  "Item2": 16
                },
                "questionTeacherFour": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherFour"
                  },
                  "Item2": 16
                },
                "currentExamID": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=currentExamID"
                  },
                  "Item2": 16
                }
              },
              "SqlStatement": "INSERT INTO exam_item (exam_ID, 题目编号, 阅卷老师)\r\nVALUES\r\n(@currentExamID, @questionNumberOne, @questionTeacherOne),\r\n(@currentExamID, @questionNumberTwo, @questionTeacherTwo),\r\n(@currentExamID, @questionNumberThree, @questionTeacherThree),\r\n(@currentExamID, @questionNumberFour, @questionTeacherFour)",
              "ID": "a28ef8d705394fc695dc2a810634f784"
            }
          ],
          "Comments": "申论4题上传",
          "ID": "5a421814-2f0f-45c4-a0f4-b273739368e6"
        },
        {
          "CommandList": [
            {
              "$type": "ServerDesignerCommon.Command.ExecuteSqlCommand, ServerDesignerCommon",
              "ConnStrId": "1B77D134-B2AA-4867-AD46-053B8AD0D7E6",
              "Params": {
                "questionNumberOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionNumberOne"
                  },
                  "Item2": 16
                },
                "questionTeacherOne": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=questionTeacherOne"
                  },
                  "Item2": 16
                },
                "currentExamID": {
                  "Item1": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=currentExamID"
                  },
                  "Item2": 16
                }
              },
              "SqlStatement": "INSERT INTO exam_item (exam_ID, 题目编号, 阅卷老师)\r\nVALUES\r\n(@currentExamID, @questionNumberOne, @questionTeacherOne)",
              "ID": "f7c509bb2093431f8520438b9cd75857"
            }
          ],
          "Comments": "申论1题上传",
          "ID": "2af89b2a-117e-4ddf-af05-2b55d4643bf2"
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "result"
    }
  ]
}