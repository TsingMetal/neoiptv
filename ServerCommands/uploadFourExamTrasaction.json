{
  "Name": "uploadFourExamTrasaction",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser",
                "FGC_Anonymous"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "className",
          "TestData": "class1"
        },
        {
          "Name": "imgArr",
          "TestData": "1,2,3"
        },
        {
          "Name": "questionNumberOne",
          "TestData": "e1"
        },
        {
          "Name": "questionTeacherOne",
          "TestData": "t1"
        },
        {
          "Name": "questionNumberTwo",
          "TestData": "e2"
        },
        {
          "Name": "questionTeacherTwo",
          "TestData": "t2"
        },
        {
          "Name": "questionNumberThree",
          "TestData": "e3"
        },
        {
          "Name": "questionTeacherThree",
          "TestData": "t3"
        },
        {
          "Name": "questionNumberFour",
          "TestData": "e4"
        },
        {
          "Name": "questionTeacherFour",
          "TestData": "t4"
        },
        {
          "Name": "userName",
          "TestData": "qing"
        },
        {
          "Name": "examName",
          "TestData": "test1"
        }
      ],
      "InvokeTriggerTestData": {
        "UserName": "Administrator"
      }
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "exam",
          "UpdateType": "add",
          "ShowConfirm": false,
          "UpdateBindingValues": [
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "exam_name",
                "GUID": "e017e98e-6512-4606-9165-732a9dc591de"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examName"
              }
            },
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "class_name",
                "GUID": "fc973633-b3d1-4568-9bf8-353418b45375"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=className"
              }
            },
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "exam_type",
                "GUID": "931a2b58-fe1a-46b9-92ca-b547ca27fd3e"
              },
              "Value": "5"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "examID",
          "TableValue": {
            "TableName": "exam",
            "OnlyGetValue": true,
            "TableValueType": 0,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "exam",
                  "ColumnName": "ID",
                  "GUID": "8388f93c-fdd8-47eb-9fed-8ad48ff88496"
                },
                "ColumnName": "ID"
              }
            ],
            "TopCount": "1",
            "OrderBySqlCondition": {
              "OrderByColumns": [
                {
                  "ColumnBindingInfo": {
                    "TableName": "exam",
                    "ColumnName": "ID",
                    "GUID": "163df39d-427d-4760-a296-6e7abe902611"
                  },
                  "Order": 1
                }
              ]
            }
          },
          "ID": "3739972a70ec468c84d5e3d0455a00bd"
        },
        {
          "$type": "ServerDesignerCommon.Command.ExecuteSqlCommand, ServerDesignerCommon",
          "ConnStrId": "1B77D134-B2AA-4867-AD46-053B8AD0D7E6",
          "Params": {
            "questionNumberOne": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberOne"
              },
              "Item2": 16
            },
            "questionTeacherOne": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherOne"
              },
              "Item2": 16
            },
            "questionNumberTwo": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberTwo"
              },
              "Item2": 16
            },
            "questionTeacherTwo": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherTwo"
              },
              "Item2": 16
            },
            "questionNumberThree": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberThree"
              },
              "Item2": 16
            },
            "questionTeacherThree": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherThree"
              },
              "Item2": 16
            },
            "questionNumberFour": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberFour"
              },
              "Item2": 16
            },
            "questionTeacherFour": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherFour"
              },
              "Item2": 16
            },
            "currentExamID": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examID"
              },
              "Item2": 16
            }
          },
          "SqlStatement": "INSERT INTO exam_item (exam_ID, 题目编号, 阅卷老师)\r\nVALUES\r\n(@currentExamID, @questionNumberOne, @questionTeacherOne),\r\n(@currentExamID, @questionNumberTwo, @questionTeacherTwo),\r\n(@currentExamID, @questionNumberThree, @questionTeacherThree),\r\n(@currentExamID, @questionNumberFour, @questionTeacherFour)",
          "ID": "4a791d40842945c9b70c8c69a7f547fc"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "uploadFourExam",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "className",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=className"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "imgArr",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=imgArr"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberOne",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberOne"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherOne",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherOne"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberTwo",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberTwo"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherTwo",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherTwo"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberThree",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberThree"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherThree",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherThree"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberFour",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberFour"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherFour",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherFour"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "userName",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=userName"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "examName",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examName"
              }
            }
          ],
          "ResultErrorCodeTo": {
            "SerializeProperty": "status_code"
          },
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "result"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "result"
    },
    {
      "Name": "currentExamID"
    }
  ]
}