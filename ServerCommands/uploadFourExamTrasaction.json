{
  "Name": "uploadFourExamTrasaction",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser",
                "FGC_Anonymous"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "className",
          "TestData": "class1"
        },
        {
          "Name": "imgArr",
          "TestData": "1,2,3"
        },
        {
          "Name": "questionNumberOne",
          "TestData": "e1"
        },
        {
          "Name": "questionTeacherOne",
          "TestData": "t1"
        },
        {
          "Name": "questionNumberTwo",
          "TestData": "e2"
        },
        {
          "Name": "questionTeacherTwo",
          "TestData": "t2"
        },
        {
          "Name": "questionNumberThree",
          "TestData": "e3"
        },
        {
          "Name": "questionTeacherThree",
          "TestData": "t3"
        },
        {
          "Name": "questionNumberFour",
          "TestData": "e4"
        },
        {
          "Name": "questionTeacherFour",
          "TestData": "t4"
        },
        {
          "Name": "userName",
          "TestData": "qing"
        },
        {
          "Name": "examName",
          "TestData": "test1"
        }
      ],
      "InvokeTriggerTestData": {
        "UserName": "Administrator"
      }
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "exam",
          "UpdateType": "add",
          "ShowConfirm": false,
          "UpdateBindingValues": [
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "exam_name",
                "GUID": "9c5e4768-7de2-4f30-b67c-f86c4e8c1b8b"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examName"
              }
            },
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "class_name",
                "GUID": "3d6bd5d5-65f8-43d3-9801-2fa9cca1fe90"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=className"
              }
            },
            {
              "BindingInfo": {
                "TableName": "exam",
                "ColumnName": "exam_type",
                "GUID": "529b3920-5748-4098-b458-37cbf7a7a786"
              },
              "Value": "5"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "currentExamID",
          "TableValue": {
            "TableName": "exam",
            "OnlyGetValue": true,
            "TableValueType": 0,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "exam",
                  "ColumnName": "ID",
                  "GUID": "2ff7eccd-49b7-49fa-a099-1c6b988e3864"
                },
                "ColumnName": "ID"
              }
            ],
            "TopCount": "1",
            "OrderBySqlCondition": {
              "OrderByColumns": [
                {
                  "ColumnBindingInfo": {
                    "TableName": "exam",
                    "ColumnName": "ID",
                    "GUID": "39fe2197-91b8-4025-8ab6-cfd5027f021d"
                  },
                  "Order": 1
                }
              ]
            }
          },
          "ID": "ffcbdf7e3aa2474c923d0730d1282db9"
        },
        {
          "$type": "ServerDesignerCommon.Command.ExecuteSqlCommand, ServerDesignerCommon",
          "ConnStrId": "1B77D134-B2AA-4867-AD46-053B8AD0D7E6",
          "Params": {
            "questionNumberOne": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberOne"
              },
              "Item2": 16
            },
            "questionTeacherOne": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherOne"
              },
              "Item2": 16
            },
            "questionNumberTwo": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberTwo"
              },
              "Item2": 16
            },
            "questionTeacherTwo": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherTwo"
              },
              "Item2": 16
            },
            "questionNumberThree": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberThree"
              },
              "Item2": 16
            },
            "questionTeacherThree": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherThree"
              },
              "Item2": 16
            },
            "questionNumberFour": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberFour"
              },
              "Item2": 16
            },
            "questionTeacherFour": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherFour"
              },
              "Item2": 16
            },
            "currentExamID": {
              "Item1": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=currentExamID"
              },
              "Item2": 16
            }
          },
          "SqlStatement": "INSERT INTO exam_item (exam_ID, 题目编号, 阅卷老师)\r\nVALUES\r\n(@currentExamID, @questionNumberOne, @questionTeacherOne),\r\n(@currentExamID, @questionNumberTwo, @questionTeacherTwo),\r\n(@currentExamID, @questionNumberThree, @questionTeacherThree),\r\n(@currentExamID, @questionNumberFour, @questionTeacherFour)",
          "ID": "213ba41953b94924a5572d183faaa353"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "uploadFourExam",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "className",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=className"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "imgArr",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=imgArr"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberOne",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberOne"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherOne",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherOne"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberTwo",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberTwo"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherTwo",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherTwo"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberThree",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberThree"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherThree",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherThree"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionNumberFour",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionNumberFour"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "questionTeacherFour",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=questionTeacherFour"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "userName",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=userName"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "examName",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=examName"
              }
            }
          ],
          "ResultErrorCodeTo": {
            "SerializeProperty": "status_code"
          },
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "result"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "result"
    },
    {
      "Name": "currentExamID"
    }
  ]
}